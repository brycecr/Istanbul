<head>

<title>Intro to CS</title>

<meta name="viewport" content="width=device-width, initial-scale=1">

<!-- Fonts -->
<link href='http://fonts.googleapis.com/css?family=Crimson+Text:400,600,700,900,600italic,700italic,900italic' rel='stylesheet' type='text/css'>
<link href='http://fonts.googleapis.com/css?family=Source+Sans+Pro:400,600,700,900,600italic,700italic,900italic' rel='stylesheet' type='text/css'>

<!-- Styles -->

<link href="../plugins/bootstrap-3.1/css/bootstrap.min.css" rel="stylesheet">
<link rel="stylesheet" type="text/css" href="../style.css">

<!-- Java Script -->
<script src="../plugins/jquery.min.js"></script>
<script src="../plugins/bootstrap-3.1/js/bootstrap.min.js"></script>
<!--<script src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
    MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$']]}});
  </script>-->


</head>
<body>

	<!-- Navigation Bar -->
<nav class="navbar-inverse navbar-default" role="navigation">
  <div class="container-fluid">
  	<div class="container">
	    <!-- Brand and toggle get grouped for better mobile display -->
	    <div class="navbar-header">
	      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
	        <span class="sr-only">Toggle navigation</span>
	        <span class="icon-bar"></span>
	        <span class="icon-bar"></span>
	        <span class="icon-bar"></span>
	      </button>
	      <a class="navbar-brand" href="/">Stanford Intro CS</a>
	    </div>

	    <!-- Collect the nav links, forms, and other content for toggling -->
	    <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
	      <ul class="nav navbar-nav">
	        <!--<li ><a href="#">Link</a></li>-->
	        <li class="dropdown">
	          <a href="#" class="dropdown-toggle" data-toggle="dropdown">Handouts <b class="caret"></b></a>
	          <ul class="dropdown-menu">
	            <li><a href="#">Action</a></li>
	            <li><a href="#">Another action</a></li>
	            <li><a href="#">Something else here</a></li>
	            <li class="divider"></li>
	            <li><a href="#">Separated link</a></li>
	            <li class="divider"></li>
	            <li><a href="#">One more separated link</a></li>
	          </ul>
	        </li>


	        <li class="dropdown">
	          <a href="#" class="dropdown-toggle" data-toggle="dropdown">Homeworks <b class="caret"></b></a>
	          <ul class="dropdown-menu">
	            <li><a href="#">Action</a></li>
	            <li><a href="#">Another action</a></li>
	            <li><a href="#">Something else here</a></li>
	            <li class="divider"></li>
	            <li><a href="#">Separated link</a></li>
	            <li class="divider"></li>
	            <li><a href="#">One more separated link</a></li>
	          </ul>
	        </li>
	      </ul>
	      
	      <ul class="nav navbar-nav navbar-right">
	        <li><a href="#">About</a></li>
	        
	      </ul>
	    </div><!-- /.navbar-collapse -->
	</div>
  </div><!-- /.container-fluid -->
</nav>



	<!-- Main Content -->
	<div class="container">

		<!-- Header -->
		<div id="pageHeader">
			<h1>
				Breakout!
			</h1>
			<p>
				Written by Eric Roberts
			</p>

		</div>
		<hr/>

		<div class="row">
			<div class="col-md-12">
				<p>
					Your job in this assignment is to write the classic arcade game of Breakout, which was invented by Steve Wozniak before he founded Apple with Steve Jobs (moment of silence).  It is a large assignment, but entirely manageable as long as you break the problem up into pieces.  
				</p>
			</div>
		</div>
		<h2>The Breakout Game</h2>
		<div class="row">

			<div class="col-md-9">
				
				<p>
					In Breakout, the initial configuration of the world appears as shown on the right. The colored rectangles in the top part of the screen are <b>bricks</b>, and the slightly larger rectangle at the bottom is the <b>paddle</b>. The paddle is in a fixed position in the vertical dimension, but moves back and forth across the screen along with the mouse until it reaches the edge of its space. 
				</p>
				<p>
					A complete game consists of three turns. On each turn, a ball is launched from the center of the window toward the bottom of the screen at a random angle. That ball bounces off the paddle and the walls of the world, in accordance with the physical principle generally expressed as "the angle of incidence equals the angle of reflection" (which turns out to be very easy to implement as discussed later in this handout). Thus, after two bounces--one off the paddle and one off the right wall--the ball might have the trajectory shown in the second diagram. (Note that the dotted line is there to show the ball's path and won't appear on the screen.)
				</p>
				<p>
					As you can see from the second diagram, the ball is about to collide with one of the bricks on the bottom row.  When that happens, the ball bounces just as it does on any other collision, but the brick disappears.  The third diagram shows what the game looks like after that collision and after the player has moved the paddle to put it in line with the oncoming ball.
				</p>
				<p>
					The play on a turn continues in this way until one of two conditions occurs: 
					<ol>
						<li>The ball hits the lower wall, which means that the player must have missed it with the paddle.  In this case, the turn ends and the next ball is served if the player has any turns left.  If not, the game ends in a loss for the player.</li>
						<li>The last brick is eliminated.  In this case, the player wins, and the game ends immediately.</li>
					</ol>
				</p>
				<p>
					Success in this assignment will depend on breaking up the problem into manageable pieces and getting each one working before you move on to the next.  The next few sections describe a reasonable staged approach to the problem.
				</p>
			</div>
			<div class="col-md-3">
				<img style="width:100%;" src="/projects/img/breakoutGame.png"></img>
			</div>
		</div>

		<h2>1. Create bricks</h2>
		<div class="row">
			<div class="col-md-12">
				<p>
					Before you start playing the game, you have to set up the various pieces.  Thus, it probably makes sense to implement the run method as two method calls: one that sets up the game and one that plays it.  An important part of the setup consists of creating the rows of bricks at the top of the game, which look like this:
				</p>
				<p>
					<center><img style="max-width:100%" src="/projects/img/breakoutBricks.png"></img></center>
				</p>
				<p>
					The number, dimensions, and spacing of the bricks are specified using named constants in the starter file, as is the distance from the top of the window to the first line of bricks.  The only value you need to compute is the x coordinate of the first column, which should be chosen so that the bricks are centered in the window, with the leftover space divided equally on the left and right sides.  The color of the bricks remain constant for two rows and run in the following rainbow-like sequence: RED, ORANGE, YELLOW, GREEN, CYAN.
				</p>
			</div>
		</div>

		<h2>2. Create the paddle</h2>
		<div class="row">
			<div class="col-md-12">
				<p>The next step is to create the paddle.  At one level, this is considerably easier than the bricks.  There is only one paddle, which is a filled GRect.  You even know its position relative to the bottom of the window.</p>
				<p>
					The challenge in creating the paddle is to make it track the mouse. Here, however, you only have to pay attention to the x coordinate of the mouse because the y position of the paddle is fixed.  
				</p>
			</div>
		</div>

		<h2>3. Make the ball move</h2>
		<div class="row">
			<div class="col-md-12">
				<p>
					At one level, creating the ball is easy, given that it's just a filled GOval.  The interesting part lies in getting it to move and bounce appropriately.  You are now past the "setup" phase and into the "play" phase of the game.  To start, create a ball and put it in the center of the window.  As you do so, keep in mind that the coordinates of the GOval do not specify the location of the center of the ball but rather its upper left corner.
				</p>
				<p>
					The program needs to keep track of the velocity of the ball, which consists of two separate components, which you will presumably declare as instance variables like this:
				</p>
				<p>
					<well><code>private double vx, vy;</code></well>
				</p>
				<p>
					The velocity components represent the change in position that occurs on each time step.  Initially, the ball should be heading downward, and you might try a starting velocity of +3.0 for vy (remember that y values in Java increase as you move down the screen).  The game would be boring if every ball took the same course, so you should choose the vx component randomly.  You should simply do the following:
				</p>
				<p>
					<ol>
						<li>Declare an instance variable rgen, which will serve as a random-number generator:	

private RandomGenerator rgen = RandomGenerator.getInstance();

	Remember that instance variables are declared outside of any method but inside the class.

						</li>
						<li>
							Initialize the vx variable as follows:

vx = rgen.nextDouble(1.0, 3.0);
if (rgen.nextBoolean(0.5)) vx = -vx;

	This code sets vx to be a random double in the range 1.0 to 3.0 and then makes it negative half the time.  This strategy works much better for Breakout than calling

nextDouble(-3.0, +3.0)

which might generate a ball going more or less straight down.  That would make life far too easy for the player.

						</li>
					</ol>
				</p>
				<p>
					Once you've done that, your next challenge is to get the ball to bounce around the world, ignoring entirely the paddle and the bricks.  To do so, you need to check to see if the coordinates of the ball have gone beyond the boundary, taking into account that the ball has a nonzero size.  Thus, to see if the ball has bounced off the right wall, you need to see whether the coordinate of the right edge of the ball has become greater than the width of the window; the other three directions are treated similarly.  For now, have the ball bounce off the bottom wall so that you can watch it make its path around the world.
				</p>
				<p>
					Computing what happens after a bounce is extremely simple.  If a ball bounces off the top or bottom wall, all you need to do is reverse the sign of vy.  Symmetrically, bounces off the side walls simply reverse the sign of vx.
				</p>
			</div>
		</div>
		
		<h2>4. Check for Collisions</h2>
		<div class="row">
			<div class="col-md-12">
				<p>Now comes the interesting part.  In order to make Breakout into a real game, you have to be able to tell whether the ball is colliding with another object in the window.  As scientists often do, it helps to begin by making a simplifying assumption and then relaxing that assumption later.  Suppose the ball were a single point rather than a circle.  In that case, how could you tell whether it had collided with another object?</p>
				<p>
					<center><img src="/projects/img/breakoutCollision.png"></img></center>
				</p>
				<p>
					These points have the advantage of being outside the ball--which means that getElementAt can't return the ball itself--but nonetheless close enough to make it appear that collisions have occurred.  
				</p>
			</div>
		</div>

		<br/>

		
<hr>

<div class="footer">
	<p class="pull-left">
		&#169; Stanford 2014 &#124; Created by 
		<a href="#">Bryce</a>, 
		<a href="http://stanford.edu/~cpiech">Chris</a>, 
		<a href="#">Julia</a> and  
		<a href="#">Nick</a>.
		Based on the wonderful CS106A class which was developed by many talented teachers.
	</p>
	<!--<p class="pull-right">
		<a href="../fall12">Fall 2012</a>
	</p>-->
</div>
<!--<script type="text/javascript">
	var _gaq = _gaq || [];
	_gaq.push(['_setAccount', 'UA-35433298-1']);
	_gaq.push(['_trackPageview']);
	(function() {
		var ga = document.createElement('script');
		ga.type = 'text/javascript';
		ga.async = true;
		ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
		var s = document.getElementsByTagName('script')[0];
		s.parentNode.insertBefore(ga, s);
	})();
</script>-->

	</div>
</body>
