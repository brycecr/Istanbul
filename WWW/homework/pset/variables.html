<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>

	<head>
<title>Intro to CS</title>

<!-- Fonts -->
<link href='http://fonts.googleapis.com/css?family=Crimson+Text:400,600,700,900,600italic,700italic,900italic' rel='stylesheet' type='text/css'>
<link href='http://fonts.googleapis.com/css?family=Source+Sans+Pro:400,600,700,900,600italic,700italic,900italic' rel='stylesheet' type='text/css'>

<!-- Styles -->

<link href="../../plugins/bootstrap/css/bootstrap.min.css" rel="stylesheet">
<link rel="stylesheet" type="text/css" href="../../style.css">

<!-- Java Script -->
<script src="../../plugins/jquery.min.js"></script>
<script src="../../plugins/bootstrap/js/bootstrap.min.js"></script>
<script src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
    MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$']]}});
  </script>

		<style>
body {
    
    line-height:18px;
word-spacing:1px;
}
p {
    text-align:left;
}
</style>
	</head>

	<body>
<div class="navbar navbar-fixed-top navbar-inverse">
	<div class="navbar-inner">
		<div class="container">
			<a class="brand" id="pageTitle" href="../../index.html">Stanford Intro CS</a>
			<div class="nav-collapse collapse">
				<ul class="nav">
					<!--<li>
						<a class="navLink" href="../../index.html#schedule">Schedule</a>
					</li>-->
					<!--<li>
						<a class="navLink" href="../../index.html#policies">Policies</a>
					</li>-->

					<li class="dropdown">
						<a class="dropdown-toggle navLink" data-toggle="dropdown" href="#">Handouts <b class="caret navCaret" ></b></a>
						<ul class="dropdown-menu" role="menu" aria-labelledby="dLabel">
							<li>
								<a class="navDropdown" href="../../handouts/officeHours.html">Office Hours</a>
							</li>
							<li>
								<a class="navDropdown" href="../../handouts/submit.html">Submitting</a>
							</li>
							<li>
                                <a class="navDropdown" href="../../handouts/pythonTutorial.html">Python Tutorial</a>
                              </li>
							<!--<li>
								<a class="navDropdown" href="../../handouts/minimax.html">Minimax</a>
							</li>-->
							<li>
								<a class="navDropdown" href="../../handouts/markovDecisions.html">Markov Decisions</a>
							</li>
              				<li>
								<a class="navDropdown" href="../../handouts/predictingRegrades.html">Regrades</a>
							</li>
                            <li>
								<a class="navDropdown" href="../../handouts/practiceMidterms.html">Practice Midterms</a>
							</li>
							<li>
								<a class="navDropdown" href="../../handouts/docs/MidtermSolution.pdf">Midterm Solutions</a>
							</li>
							<li>
								<a class="navDropdown" href="../../handouts/kmeans.html">K Means</a>
							</li>
							<li>
								<a class="navDropdown" href="../../handouts/bigPicture.html">Big Picture</a>
							</li>

						</ul>
					</li>

					<li class="dropdown">
						<a class="dropdown-toggle navLink" data-toggle="dropdown" href="#">Assignments <b class="caret navCaret" ></b></a>
						<ul class="dropdown-menu" role="menu" aria-labelledby="dLabel">
							<li style="padding-left:5px">
								Programming:
							</li>
							<li>
								<a class="navDropdown" href="../../homework/prog/pacman/pacman.html">Pacman</a>
							</li>
							<li>
							<a class="navDropdown" href="../../homework/prog/driverlessCar/driverlessCar.html">Driverless Car</a>
							</li>
							<li>
							<a class="navDropdown" href="../../homework/prog/visualCortex/visualCortex.html">Visual Cortex</a>
							</li>

							<li class="divider"></li>
							<li style="padding-left:5px">
								Problem Sets:
							</li>

							<li>
								<a class="navDropdown" href="../../homework/pset/search.html">Search Pset</a>
							</li>
                            <li>
								<a class="navDropdown" href="../../homework/pset/variables.html">Variable Pset</a>
							</li>
							<li>
								<a class="navDropdown" href="../../homework/pset/learning.html">Learning Pset</a>
							</li>
							<!--<li>
							<a class="navDropdown" href="/homework/prog/pacman/pacman.html">Variable Models Pset</a>
							</li>
							<li>
							<a class="navDropdown" href="/homework/prog/pacman/pacman.html">Machine Learning Pset</a>
							</li>-->
							
							<li class="divider"></li>
							<li style="padding-left:5px">
								Projects:
							</li>
							<li>
								<a class="navDropdown" href="../../homework/finalProject.html">Final Project</a>
							</li>
						</ul>
					</li>
				</ul>
				<!--<ul class="nav pull-right">
					<li class="dropdown">
						<a class="dropdown-toggle pull-right  navLink" data-toggle="dropdown" href="#">AI Stories <b class="caret navCaret"></b></a>
						<ul class="dropdown-menu" role="menu" aria-labelledby="dLabel">
							<li>
								<a class="navDropdown" href="../../apps/driverlessCar.html">Self Driving Car</a>
                                <a class="navDropdown" href="../../apps/machineTranslation.html">Machine Translation</a>
                                <a class="navDropdown" href="../../apps/deepBlue.html">Deep Blue</a>
                                <a class="navDropdown" href="../../apps/watson.html">Watson</a>
							</li>
						</ul>
					</li>
				</ul>-->
			</div>
		</div>
	</div>
</div>

		<div class="container">
			<div id="pageHeader">
				<div id="handoutTitle">
					Pset 2: Variables
				</div>
				<p>
					Due July 22th, 11:59pm.
				</p>
                <p>
					Written by Chris Piech, Sarah Xing, Percy Liang.
				</p>

			</div>
			<hr/>
			<!--announcements-->
			<div class="row">
				<div class="span12">
					<p class="header lead">
						<strong>Instructions</strong>
					</p>
					<p>
						This problem set has three problems that you should submit an answer for (<a href="#spelling">Spelling</a>, <a href ="#cancer">Cancer</a> and <a href="#jazz">Jazz</a>). Write your solutions to each of the three problems in separate documents and save them to files named p1.pdf, p2.pdf and p3.pdf.
					</p>

					<p>
						Submission will work just like pset 1. See <a href="../../handouts/submit.html">submitting</a> for more details.
					</p>
					<br/>
				</div>
			</div>

			

				<div class="row" id="spelling">
					<div class="span12">
						<p class="header lead">
							<strong>1. Earnest Spelling</strong>
						</p>
						The first functional spell checker was created in the early 1960s by Lester Earnest a professor in Stanford University's Artificial Intelligence lab. He wanted to create a system to recognize handwriting but realized that to do so, he also needed a spelling corrector! In this problem, we're going to look at how to model spelling correction as a Constraint Satisfaction Problem (CSP).

						<center>
							<img class="psetImg" src="../../img/earnest.jpg" style="height:300px">
							<p class="psetImgCaption">
								Figure 1: Stanford AI lab where the first spell checker was installed.
							</p>
						</center>

						You are given a sentence, which is a sequence of $n$ (possibly misspelled) words 
                        $w_1, \cdots, w_n$, where each $w_i$ is a sequence of letters. You have a dictionary $D$ of possible words. 
                        Define the edit distance $Edit(w,w')$ as the minimum number of insertions, deletions, or replacements 
                        required to convert $w$ into $w'$. Furthermore, you have a function $Fluency(w, w', w'')$, which measures how likely the words $w, w', w''$ are to appear next to each other in that order. Your goal is to find a sequence of real words from the dictionary $t_1 , \cdots , t_n$ that minimizes the sum of the edit distances $Edit(t_i, w_i)$ plus the sum of $-Fluency(t_i, t_{i+1}, t_{i+2})$. Note that this last term is the sum of the <i>negative</i> of the fluencies.


						<!--<center><p class="psetImg"></p></center>-->

						<div class="subquestion">
							<table class="table table-noborder">
								<tbody>
									<tr>
										<td>a</td>
										<td>Formulate this problem as a weighted CSP. What are the variables, their domains, constraints and constraint weights? You should have $n$ variables, and no constraint should have <a href="http://en.wikipedia.org/wiki/Arity">arity</a> of more than 3. </td>
									</tr>
									<tr>
										<td>b</td>
										<td>Suppose we add an additional requirement that at least one of the words of the spelling-corrected sentence must be a verb (let $V \subset D$ be the set of verbs). Add $O(n)$ variables and constraints with arity at most 3 to satisfy this requirement. </td>
									</tr>
									<tr>
										<td>c</td>
										<td>This problem could be modeled as a deterministic search problem (DSP) where the current state includes a cursor. The start state has the cursor on the first word. The set of legal actions only allows you to chose a word at the current cursor position. Briefly describe the pros and cons of modeling this problem using your formulation of a CSP versus the given DSP. </td>
									</tr>
									
								</tbody>
							</table>

						</div>
					</div>
				</div>

				<div class="row" id="cancer">
					<div class="span12">
						<p class="header lead">
							<strong>2. Cancer Warning Signs</strong>
						</p>

						<p>One of the first uses of Bayesian networks was to model the transmission of genetic information from parent to child to better predict disease. In this problem, we will look at how inherited genetics affect breast cancer.</p>

                        <p>Every person has two "<a href="http://en.wikipedia.org/wiki/Allele">alleles</a>" for each gene, one allele was passed from their mother and another from their father.</p>

                        <p>The presence of a damaged allele of the <a href="http://en.wikipedia.org/wiki/BRCA1">BRCA1</a> gene has been found to be associated with increased risk for breast cancer. Let $B$ represent a damaged allele in BRCA1, and $b$ represent a normal functional BRCA1 allele. Unless an individual has two functional alleles ($bb$), they will be particularly susceptible to cancer. Both men and women can develop breast cancer, but men have a much lower probability.</p>


                        <p>Let $G_x$ denote the two BRCA1 alleles for person $x$ (either $BB$, $Bb$, or $bb$). Let $C_x$ denote whether person $x$ will develop breast cancer (True or False). The Bayesian models below show three alternative representations of how the variables are related for two parents and one child. 
</p>
						<div class="row">
                            <div class="span3 offset1">
                                <img class="psetImg" src="../../img/modelA.png"/>
							    <center><p class="psetImgCaption" style="padding:0px">
								    modelA
							    </p></center>
                            </div>
                            <div class="span3" style="margin-left:50px">
                                <img class="psetImg" src="../../img/modelB.png"/>
							    <center><p class="psetImgCaption" style="padding:0px">
								    modelB
							    </p></center>
                            </div>
                            <div class="span3" style="margin-left:50px">
                                <img class="psetImg" src="../../img/modelC.png"/>
							    <center><p class="psetImgCaption" style="padding:0px">
								    modelC
							    </p></center>
                            </div>
						</div>
                        <center><p class="psetImgCaption" style="margin-top:5px">
								Figure 2: Breast Cancer Models.
							</p></center>

                        <p>Parents transfer an allele to their child from their genotype with uniform probability, regardless of whether or not they have cancer. In other words, when a parent has a genotype $Bb$, then $B$ will be the allele they transfer to the child with probability 1/2 and $b$ will be the transferred allele with probability 1/2. When a parent has a genotype $BB$ or $bb$, the allele $B$ or $b$ respectively will be transferred with probability 1. 
					<table class="table table-noborder">
							<tbody>
								<tr>
									<td>a</td>
									<td>Which of the provided networks claim $P(G_{mother}, G_{father}, G_{child}) = P(G_{mother})P(G_{father})P(G_{child})$?
</td>
								</tr>
								<tr>
									<td>b</td>
									<td>Which of the provided networks best represents how genetics and breast cancer are related?
</td>
								</tr>
								<tr>
									<td>c</td>
									<td>Suppose both parents are of genotype $Bb$. What is the conditional probability distribution (<a href="http://en.wikipedia.org/wiki/Conditional_probability_distribution">CPD</a>) for the child's genotype?</td>
								</tr>
								<tr>
									<td>d</td>
									<td><p>We want to predict the chance of a male child developing breast cancer given that we have the following information: His father has breast cancer and his mother (who has been genetically tested) has two functional alleles $bb$. Assume that you know the emission probabilities of cancer given genome, and the prior probabilities for each allele combination: </p>


                                    <table class="table" style="margin-bottom:10px">
                                        <tr>
                                            <th style="width:350px">Emission Probabilities</th>
                                            <th>Priors</th>
                                        </tr>
								        <tr>
                                            <td>$P(C_{father} = true \mid  G_{father} = bb) = \theta_b$</td>
                                            <td>$P(G_{father} = bb) = \phi_{bb}$</td>
                                        </tr>
                                        <tr>
                                            <td>$P(C_{father} = true \mid  G_{father} = Bb) = \theta_B$</td>
                                            <td>$P(G_{father} = Bb) = \phi_{Bb}$</td>
                                        </tr>
                                        <tr>
                                            <td>$P(C_{father} = true \mid  G_{father} = BB) = \theta_B$</td>
                                            <td>$P(G_{father} = BB) = \phi_{BB}$</td>
                                        </tr>
                                    </table>
                                        
                            The emission probabilities for the son are the same as for the father since they are both male.

                <table class="table table-noborder"  style="margin-bottom:0px; margin-top:5px">
							<tbody>
								<tr>
									<td>i</td>
									<td>Calculate the probabilities that the father has genotype $BB$, $Bb$, $bb$, given that we know he has breast cancer.
                                    </td>
                                    
								</tr>
                                <tr>
									<td>ii</td>
									<td>Calculate the probabilities that the child has genotype $BB$, $Bb$, $bb$, given that we know the mother is $bb$, and that the father has the genotype distribution from part (i).
                                    </td>
                                    
								</tr>
                                <tr>
									<td>iii</td>
									<td>What is the probability that the son will develop breast cancer given that his father has breast cancer and his mother is $bb$? 
                                    </td>
                                    
								</tr>
                              </tbody>
                        </table>
</td>
								</tr>
								<!--<tr>
									<td>e</td>
									<td><b>Optional</b>: Now let's say we want to learn how genes interact in order to make new discoveries on what genes work together to cause cancer. Suppose you are considering a set of 100 genes. Each gene can be in only two states: on and off. You are given a dataset of joint probabilities for all genes. To find the model that best fits the data, we would enumerate every possible Bayesian network depicting relationships (either correlation or causality) among the 100 genes, calculate the probability for each network given the data (P(network i | data) for i in 1...n, and pick the one that scores the best -- we then say this network best describes reality. Describe how you would compute the probability of that network given the data.
</td>
								</tr>-->
								
							</tbody>
						</table>
					</div>
				</div>

				<div class="row" id="jazz">
					<div class="span12">
						<p class="header lead">
							<strong>3. Jazz Improvisation</strong>
						</p>
						<p>
							Jazz is a celebration of the eclectic, and as a genre it is relatively free of typical compositional rules. As such it is a domain where computers are able to make creative contributions.</p>

                        <center>
							<img class="psetImg" src="../../img/coltrane.png" style="height:300px">
							<p class="psetImgCaption">
								Figure 3: John Coltrane on Sax.
							</p>
						</center>

                        <p>In this problem, you are going to write a problem that can improvize jazz music for a saxophone using Markov chains. Assume you have a dictionary of notes $D$ = {C, E, E&#9837;, G, G&#9839;, B, <em>rest</em>} (this augmented scale is prevalent in John Coltrane songs). For simplicity we are going to assume each note is a quarter note.
						
                        <table class="table table-noborder">
							<tbody>
								<tr>
									<td>a</td>
									<td>In our first model each note is generated by a probability distribution that is dependent only on the previous note. The first note in the improvisation is generated randomly from the dictionary of notes. Here is the Markov Chain model:
                        <center>
							<img class="psetImg" src="../../img/jazzMarkov.png" style="height:80px;">
							<p class="psetImgCaption">
								Figure 4: Simple Jazz Markov Network.
							</p>
						</center>
                        Describe the Conditional Probability Table for all nodes in the network. Explain how you could use this model to generate a jazz solo with $N$ notes.</td>
								</tr>
								<tr>
									<td>b</td>
									<td>Generating a note based only on the last note creates choppy jazz. To fix this, we want to change our model to generate a new note based on the last <em>three</em> notes played (where the order of those three notes matters). Formalize this new model: describe your variables and for each variable describe its CPT. Draw a directed graph which visualizes your model.</td>
								</tr>
                <tr>
									<td>c</td>
									<td>If you have access to the notes played in hundreds of hours of songs (of the same jazz style). How would you learn the transition probability for your model in part b?</td>
								</tr>
								<tr>
									<td>d</td>
									<td><b>Challenging:</b> In order to improve our composition, we need to first learn how to listen. We are given a <a href="http://en.wikipedia.org/wiki/Sheet_music">score</a> $S = [n_1, n_2 \cdots n_L]$ of notes $n_i$ that a musician plans to play. At any time, the musician may play the current note in the score, add in an extra note or skip the current note. Let $M = [m_1, m_2, \cdots, m_T]$ be the observed notes $m_i$ the musician actually plays. Write a hidden Markov model (describe variables and CPTs) that will allow you to track the <b>hidden</b> note in the score the musician is on given the <b>observed</b> notes. 
</td>
								</tr>
                <tr>
									<td>e</td>
									<td>We chose to track where in a score a musician is using a particle filter. Describe the structure of a particle, initialization, update and transition steps.</td>
								</tr>
								
								
							</tbody>
						</table>

				    </div>
				</div>

<hr>

<div class="footer">
	<p class="pull-left">
		&#169; Stanford 2013 &#124; Designed by <a href="http://stanford.edu/~cpiech">Chris</a>. Inspired by <a href="http://njoubert.com/">Niels</a> and <a href="http://cs.stanford.edu/~pliang/">Percy</a>.
	</p>
	<p class="pull-right">
		<a href="../../fall12">Fall 2012</a>
	</p>
</div>
<script type="text/javascript">
	var _gaq = _gaq || [];
	_gaq.push(['_setAccount', 'UA-35433298-1']);
	_gaq.push(['_trackPageview']);
	(function() {
		var ga = document.createElement('script');
		ga.type = 'text/javascript';
		ga.async = true;
		ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
		var s = document.getElementsByTagName('script')[0];
		s.parentNode.insertBefore(ga, s);
	})();
</script>

<script>
	$(document).ready(function() {
		$('.dropdown-toggle').dropdown()
		$('.thumbnail').tooltip({
			placement : 'bottom',
			delay : {
				show : 750
			}
		})
	});
</script>
			</div>

	</body>

</html>
